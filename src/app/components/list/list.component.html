<div class="list-item">
  <div *ngIf="!(editing$ | async); else editListName" class="list-header">
    <h3>
      {{ listName }}
    </h3>
    <mat-divider [vertical]="true"></mat-divider>
    <button mat-icon-button (click)="editing$.next(true)">
      <mat-icon>edit</mat-icon>
    </button>
  </div>

  <ng-template #editListName>
    <div class="list-header">
      <mat-form-field>
        <input matInput [(ngModel)]="listName">
      </mat-form-field>
      <mat-icon class="action-icon" (click)="onSaveListName()">save</mat-icon>
      <mat-icon class="action-icon" (click)="editing$.next(false)">cancel</mat-icon>
    </div>
  </ng-template>

  <div class="cards-container" [dragula]="list?.idBoard" [dragulaModel]="cards" [attr.data-list-id]="list.id">
    <div *ngFor="let card of cards" [attr.data-card-id]="card.id">
      <mat-card (click)="showCardDetail(card)">
        {{ card.name }}
      </mat-card>
    </div>
  </div>
</div>